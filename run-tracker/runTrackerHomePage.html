<!DOCTYPE html>
<html>
    <head>
          
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="mobile-web-app-capable" content="yes" />
    <title>Run Tracker (Team 036)</title>
    <meta name="description" content="ENG1003 Assignment 2B S2 2015">
    <meta name="author" content="Brendan Holmes">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700" type="text/css">
      
    <style type="text/css">
      html, body { height: 100%; margin: 10; padding: 10; }
      #map { height: 100%; }
        
        #message-area
        {
            display: block;
            position: relative;
            width: 100%;
            text-align: center;
            bottom: 2;
            margin: auto;
            font-size: 20px;
            font-family: 'Roboto';
            font-weight: 400;
        }  
    </style>
      
    <link rel="stylesheet" href="https://storage.googleapis.com/code.getmdl.io/1.0.4/material.indigo-pink.min.css">
    <script src="https://storage.googleapis.com/code.getmdl.io/1.0.4/material.min.js"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

    <!-- Always shows a header, even in smaller screens. -->
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
        <header class="mdl-layout__header">
            <div class="mdl-layout__header-row">
                <!-- Title -->
                <span class="mdl-layout-title">RUN TRACKER</span>
                <!-- Add spacer, to align navigation to the right -->
                
                <div class="mdl-layout-spacer"></div>
                <!-- Navigation. We hide it in small screens. -->
                  <nav class="mdl-navigation mdl-layout--large-screen-only">
                </nav>
            </div>
        </header>

    <!-- Navigation tabs -->
        <div class="mdl-layout__drawer">
            <span class="mdl-layout-title">RUN TRACKER</span>
            <nav class="mdl-navigation">
                <a class="mdl-navigation__link" href="instructionsPage.html">Instructions</a>
                <a class="mdl-navigation__link" href="runTrackerHomePage.html">Home</a>
                <a class="mdl-navigation__link" href="runTrackerPreviousRunsPage.html">Previous Runs</a>
                <a class="mdl-navigation__link" id="log-in-Out-button" href="index.html">ERROR</a>
            </nav>
        </div>   

        <style>
          h3 {text-align: center;}
          p {text-align: center;}
        </style>
        
    </head>
    
    <body>
        <div id="map"></div>
        <div><br></div>
        <div id="message-area"></div>
        <p>
        <button id="startStopButton" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" onclick="startTracking()">Start</button>
        <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" onclick="clearMap()">Clear</button>
        <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--colored" onclick="centreMap()">Centre Map</button>
        <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent"  onclick="saveLastRun()">Save</button>
        </p>        
      
        <br>
      
      
        <script>
          
            var loginStatus = JSON.parse(localStorage.getItem("loginStatus")); //Retrieve login status from localstorage
            if (loginStatus === false) {
                document.getElementById("log-in-Out-button").innerHTML = "Log in"; //Changes button to login..
            } else if (loginStatus === true) {
                document.getElementById("log-in-Out-button").innerHTML = "Log out"; //or logout, depending on what it says
            } else {
                window.location.href = "index.html"; //If there is no loginstatus, redirect to login!
            }
          
        </script>
    
        <!-- Placing scripts here means they only run once the DOM has been fully loaded-->
        <script src = "runTrackerProcessor.js" type="text/javascript"></script>
        <script src="https://maps.googleapis.com/maps/api/js?v=3&amp;key=&amp"></script>
        <script defer src="https://google-maps-utility-library-v3.googlecode.com/svn/trunk/geolocationmarker/src/geolocationmarker-compiled.js"</script>
        <script>google.maps.event.addDomListener(window, 'load', initMap);</script> <!-- Line of pure magic-->

    </body>
</html>